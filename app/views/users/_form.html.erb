<%= fields_for @user do |f|%>
<%= render :partial => 'template/form_errors', :object => @user %>

<div class="panel panel-default">
	<div class="panel-heading">
		User Details
	</div>
	<div class="panel-body">
		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<label>Email</label>
					<%= f.text_field :email, :class => "form-control", :placeholder => "Email Address" %>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="form-group">
					<label>User Name</label>
					<%= f.text_field :username, :class => "form-control", :placeholder => "User Name" %>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<label>Password</label>
					<%= f.text_field :password, :class => "form-control", :placeholder => "Secret Password", :type => "password" %>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="form-group">
					<label>Password Confirmation</label>
					<%= f.text_field :password, :class => "form-control", :placeholder => "Secret Password", :type => "password" %>
				</div>
			</div>
		</div>
	</div>
</div>

<%if current_user.is?(:superadmin)%>
<div class="panel panel-default">
	<div class="panel-heading">
		Roles
	</div>
	<div class="panel-body">
		<div class="row">
			<div class="col-sm-12">
				<% for role in User::ROLES %>

				<div class="checkbox">
					<label><%= check_box_tag "user[roles][#{role}]", role, @user.roles.include?(role), {:name => "user[roles][]"}%>
						<%= label_tag "user_roles_#{role}", role.humanize %> </label>
				</div>
				<% end %>
			</div>
		</div>
		<%= hidden_field_tag "user[roles][]", "" %>
	</div>
</div>
<%end%>

<% unless @user.id.blank?%>
<div class="panel panel-default">
	<div class="panel-heading">
		Permissions
	</div>
	<div class="panel-body">
		<div class="row">
			<div class="col-sm-12">
				<div class="checkbox">
					<label> <%= f.check_box :can_update_configuration %>
						Can change store configuration </label>
				</div>
				<div class="checkbox">
					<label> <%= f.check_box :can_update_users %>
						Can update users </label>
				</div>
				<div class="checkbox">
					<label> <%= f.check_box :can_update_items %>
						Can update items </label>
				</div>
				<div class="checkbox">
					<label> <%= f.check_box :can_view_reports %>
						Can view reports </label>
				</div>
				<!-- <div class="checkbox">
				<label>
				<%= f.check_box :can_update_sale_discount %>
				Can give discounts
				</label>
				</div> -->
				<div class="checkbox">
					<label> <%= f.check_box :can_remove_sales %>
						Can delete sales </label>
				</div>
			</div>
		</div>
	</div>
</div>
<% end %>

<div class="row">
	<div class="col-sm-12">
		<%= f.submit 'Update User', :class => "btn btn-success btn-lg" %>
	</div>
</div>
<% end %>
